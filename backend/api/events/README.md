# Events API Documentation

## æ¦‚è¦

Eldonia-Nex Events APIã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆã®ä½œæˆã€ç®¡ç†ã€ãƒã‚±ãƒƒãƒˆè²©å£²ã€ä¼šå ´æ¨è–¦ã€æˆåŠŸç‡äºˆæ¸¬ã‚’è¡Œã†ãŸã‚ã®RESTful APIã§ã™ã€‚

## ãƒ™ãƒ¼ã‚¹URL

```
http://localhost:8001/api/v1/events/
```

## èªè¨¼

å¤šãã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯èªè¨¼ãŒå¿…è¦ã§ã™ã€‚ä»¥ä¸‹ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å«ã‚ã¦ãã ã•ã„ï¼š

```
Authorization: Token <your-token>
```

---

## æ–°æ©Ÿèƒ½ ğŸ‰

### ä¼šå ´æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ 
ã‚¤ãƒ™ãƒ³ãƒˆã®åå®¹äººæ•°ã€å ´æ‰€ã€ç”¨é€”ã«åŸºã¥ã„ã¦æœ€é©ãªä¼šå ´ã‚’æ¨è–¦ã—ã¾ã™ã€‚

### ã‚¤ãƒ™ãƒ³ãƒˆæˆåŠŸç‡äºˆæ¸¬
ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’åˆ†æã—ã€æˆåŠŸç‡ã‚’äºˆæ¸¬ã—ã¦æ”¹å–„ææ¡ˆã‚’æä¾›ã—ã¾ã™ã€‚

---

## ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

### 1. ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§å–å¾—

**GET** `/api/v1/events/`

ã™ã¹ã¦ã®å…¬é–‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

#### ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | èª¬æ˜ |
|-----------|---|------|
| `event_type` | string | ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚£ãƒ«ã‚¿ (`online`, `venue`) |
| `status` | string | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§ãƒ•ã‚£ãƒ«ã‚¿ (`draft`, `published`, `cancelled`) |
| `is_free` | boolean | ç„¡æ–™ã‚¤ãƒ™ãƒ³ãƒˆã®ã¿è¡¨ç¤º (`true`, `false`) |
| `upcoming` | boolean | ä»Šå¾Œã®ã‚¤ãƒ™ãƒ³ãƒˆã®ã¿è¡¨ç¤º (`true`) |
| `ordering` | string | ã‚½ãƒ¼ãƒˆé † (ä¾‹: `-created_at`, `start_datetime`) |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```json
{
  "count": 2,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": 1,
      "title": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ— 2025",
      "description": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼åŒå£«ã®äº¤æµã‚¤ãƒ™ãƒ³ãƒˆ",
      "event_type": "venue",
      "venue_name": "æ±äº¬ã‚³ãƒ³ãƒ™ãƒ³ã‚·ãƒ§ãƒ³ã‚»ãƒ³ã‚¿ãƒ¼",
      "start_datetime": "2025-12-20T14:00:00Z",
      "end_datetime": "2025-12-20T18:00:00Z",
      "timezone": "Asia/Tokyo",
      "capacity": 100,
      "is_free": false,
      "status": "published",
      "organizer_name": "admin",
      "tickets_count": 3,
      "is_sold_out": false,
      "created_at": "2025-12-11T15:00:00Z"
    }
  ]
}
```

---

### 2. ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°å–å¾—

**GET** `/api/v1/events/<id>/`

ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```json
{
  "id": 1,
  "organizer_id": 1,
  "organizer_name": "admin",
  "title": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ— 2025",
  "description": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼åŒå£«ã®äº¤æµã‚¤ãƒ™ãƒ³ãƒˆ",
  "event_type": "venue",
  "venue_name": "æ±äº¬ã‚³ãƒ³ãƒ™ãƒ³ã‚·ãƒ§ãƒ³ã‚»ãƒ³ã‚¿ãƒ¼",
  "venue_address": "æ±äº¬éƒ½åƒä»£ç”°åŒº",
  "start_datetime": "2025-12-20T14:00:00Z",
  "end_datetime": "2025-12-20T18:00:00Z",
  "timezone": "Asia/Tokyo",
  "capacity": 100,
  "is_free": false,
  "status": "published",
  "tickets": [
    {
      "id": 1,
      "ticket_type": "ä¸€èˆ¬",
      "price": "3000.00",
      "quantity": 50,
      "sold_quantity": 10,
      "available_quantity": 40,
      "is_active": true,
      "created_at": "2025-12-11T15:00:00Z"
    }
  ],
  "created_at": "2025-12-11T15:00:00Z"
}
```

---

### 3. ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ

**POST** `/api/v1/events/create/`

æ–°ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "title": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ— 2025",
  "description": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼åŒå£«ã®äº¤æµã‚¤ãƒ™ãƒ³ãƒˆ",
  "event_type": "venue",
  "venue_name": "æ±äº¬ã‚³ãƒ³ãƒ™ãƒ³ã‚·ãƒ§ãƒ³ã‚»ãƒ³ã‚¿ãƒ¼",
  "venue_address": "æ±äº¬éƒ½åƒä»£ç”°åŒº",
  "start_datetime": "2025-12-20T14:00:00Z",
  "end_datetime": "2025-12-20T18:00:00Z",
  "timezone": "Asia/Tokyo",
  "capacity": 100,
  "is_free": false,
  "status": "draft",
  "tickets": [
    {
      "ticket_type": "ä¸€èˆ¬",
      "price": "3000.00",
      "quantity": 50
    },
    {
      "ticket_type": "å­¦ç”Ÿ",
      "price": "2000.00",
      "quantity": 30
    }
  ]
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹

ä½œæˆã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆstatus: 201ï¼‰

---

### 4. ã‚¤ãƒ™ãƒ³ãƒˆæ›´æ–°

**PUT/PATCH** `/api/v1/events/<id>/update/`

è‡ªåˆ†ãŒä½œæˆã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’æ›´æ–°ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "title": "æ›´æ–°ã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«",
  "description": "æ›´æ–°ã•ã‚ŒãŸèª¬æ˜",
  "status": "published"
}
```

---

### 5. ã‚¤ãƒ™ãƒ³ãƒˆå‰Šé™¤

**DELETE** `/api/v1/events/<id>/delete/`

è‡ªåˆ†ãŒä½œæˆã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹

status: 204 (No Content)

---

### 6. è‡ªåˆ†ã®ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§

**GET** `/api/v1/events/my-events/`

è‡ªåˆ†ãŒä½œæˆã—ãŸã™ã¹ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

---

### 7. ã‚¤ãƒ™ãƒ³ãƒˆå…¬é–‹

**POST** `/api/v1/events/<id>/publish/`

ã‚¤ãƒ™ãƒ³ãƒˆã‚’å…¬é–‹çŠ¶æ…‹ã«å¤‰æ›´ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```json
{
  "id": 1,
  "status": "published",
  ...
}
```

---

### 8. ã‚¤ãƒ™ãƒ³ãƒˆã‚­ãƒ£ãƒ³ã‚»ãƒ«

**POST** `/api/v1/events/<id>/cancel/`

ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«çŠ¶æ…‹ã«å¤‰æ›´ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

---

### 9. ãƒã‚±ãƒƒãƒˆä½œæˆ

**POST** `/api/v1/events/<event_id>/tickets/create/`

ã‚¤ãƒ™ãƒ³ãƒˆã«æ–°ã—ã„ãƒã‚±ãƒƒãƒˆã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "ticket_type": "VIP",
  "price": "5000.00",
  "quantity": 20,
  "is_active": true
}
```

---

### 10. ãƒã‚±ãƒƒãƒˆæ›´æ–°

**PUT/PATCH** `/api/v1/events/<event_id>/tickets/<id>/update/`

ãƒã‚±ãƒƒãƒˆæƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

---

### 11. ãƒã‚±ãƒƒãƒˆå‰Šé™¤

**DELETE** `/api/v1/events/<event_id>/tickets/<id>/delete/`

ãƒã‚±ãƒƒãƒˆã‚’å‰Šé™¤ã—ã¾ã™ï¼ˆè¦èªè¨¼ï¼‰ã€‚

---

## ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹

### 400 Bad Request

```json
{
  "end_datetime": ["çµ‚äº†æ—¥æ™‚ã¯é–‹å§‹æ—¥æ™‚ã‚ˆã‚Šå¾Œã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"]
}
```

### 401 Unauthorized

```json
{
  "detail": "Authentication credentials were not provided."
}
```

### 403 Forbidden

```json
{
  "detail": "You do not have permission to perform this action."
}
```

### 404 Not Found

```json
{
  "detail": "Not found."
}
```

---

## ä½¿ç”¨ä¾‹

### cURLã§ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ã‚’å–å¾—

```bash
curl http://localhost:8001/api/v1/events/
```

### cURLã§ä»Šå¾Œã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®ã¿å–å¾—

```bash
curl "http://localhost:8001/api/v1/events/?event_type=online&upcoming=true"
```

### cURLã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ

```bash
curl -X POST http://localhost:8001/api/v1/events/create/ \
  -H "Authorization: Token your-token-here" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "æ–°ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆ",
    "description": "ã‚¤ãƒ™ãƒ³ãƒˆã®èª¬æ˜",
    "event_type": "online",
    "start_datetime": "2025-12-20T14:00:00Z",
    "end_datetime": "2025-12-20T18:00:00Z",
    "is_free": true,
    "status": "draft"
  }'
```

---

## ãƒ¢ãƒ‡ãƒ«å®šç¾©

### Event

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|---|------|
| id | Integer | ã‚¤ãƒ™ãƒ³ãƒˆID |
| organizer | ForeignKey | ä¸»å‚¬è€…ï¼ˆUserï¼‰ |
| title | String(255) | ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ« |
| description | Text | ã‚¤ãƒ™ãƒ³ãƒˆèª¬æ˜ |
| event_type | String(50) | ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆ`online`, `venue`ï¼‰ |
| venue_name | String(255) | ä¼šå ´å |
| venue_address | Text | ä¼šå ´ä½æ‰€ |
| start_datetime | DateTime | é–‹å§‹æ—¥æ™‚ |
| end_datetime | DateTime | çµ‚äº†æ—¥æ™‚ |
| timezone | String(50) | ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ |
| capacity | Integer | å®šå“¡ |
| is_free | Boolean | ç„¡æ–™ãƒ•ãƒ©ã‚° |
| status | String(20) | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ`draft`, `published`, `cancelled`ï¼‰ |
| created_at | DateTime | ä½œæˆæ—¥æ™‚ |

### EventTicket

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|---|------|
| id | Integer | ãƒã‚±ãƒƒãƒˆID |
| event | ForeignKey | ã‚¤ãƒ™ãƒ³ãƒˆ |
| ticket_type | String(100) | ãƒã‚±ãƒƒãƒˆã‚¿ã‚¤ãƒ— |
| price | Decimal | ä¾¡æ ¼ |
| quantity | Integer | ç·æ•° |
| sold_quantity | Integer | è²©å£²æ¸ˆã¿æ•° |
| is_active | Boolean | æœ‰åŠ¹ãƒ•ãƒ©ã‚° |
| created_at | DateTime | ä½œæˆæ—¥æ™‚ |

---

## ä¼šå ´æ¨è–¦ãƒ»æˆåŠŸç‡äºˆæ¸¬

### 12. ä¼šå ´æ¨è–¦

**POST** `/api/v1/events/recommend-venues/`

ã‚¤ãƒ™ãƒ³ãƒˆã®æ¡ä»¶ã«åŸºã¥ã„ã¦æ¨è–¦ä¼šå ´ã‚’å–å¾—ã—ã¾ã™ã€‚

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "capacity": 50,
  "location": "æ±äº¬éƒ½æ¸‹è°·åŒº",
  "purpose": "networking"
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```json
{
  "venues": [
    {
      "name": "æ±äº¬ã‚³ãƒ³ãƒ™ãƒ³ã‚·ãƒ§ãƒ³ã‚»ãƒ³ã‚¿ãƒ¼",
      "address": "æ±äº¬éƒ½åƒä»£ç”°åŒº",
      "capacity": 100,
      "rating": 4.5,
      "distance": "2.5km",
      "price_range": "Â¥50,000 - Â¥100,000",
      "amenities": ["WiFi", "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼", "é§è»Šå ´"]
    }
  ]
}
```

### 13. ã‚¤ãƒ™ãƒ³ãƒˆæˆåŠŸç‡äºˆæ¸¬

**POST** `/api/v1/events/predict-success/`

ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’åˆ†æã—ã¦æˆåŠŸç‡ã‚’äºˆæ¸¬ã—ã¾ã™ã€‚

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "title": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ— 2025",
  "description": "ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼åŒå£«ã®äº¤æµã‚¤ãƒ™ãƒ³ãƒˆ...",
  "capacity": 50,
  "start_date": "2025-12-20",
  "is_free": true
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```json
{
  "success_rate": 75,
  "factors": [
    {
      "name": "ã‚¿ã‚¤ãƒˆãƒ«ã®é•·ã•",
      "impact": "positive",
      "description": "é©åˆ‡ãªé•·ã•ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯æ³¨ç›®ã‚’é›†ã‚ã‚„ã™ã„ã§ã™"
    },
    {
      "name": "æº–å‚™æœŸé–“",
      "impact": "positive",
      "description": "ååˆ†ãªæº–å‚™æœŸé–“ãŒã‚ã‚Šã¾ã™"
    }
  ],
  "recommendations": [
    "ç¾åœ¨ã®è¨­å®šã¯è‰¯å¥½ã§ã™ï¼"
  ]
}
```

### æˆåŠŸç‡ã®è§£é‡ˆ

| æˆåŠŸç‡ | è©•ä¾¡ | èª¬æ˜ |
|-------|------|------|
| 70%ä»¥ä¸Š | è‰¯å¥½ | ã‚¤ãƒ™ãƒ³ãƒˆã¯æˆåŠŸã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ |
| 50-69% | æ™®é€š | ã„ãã¤ã‹ã®æ”¹å–„ãŒå¿…è¦ |
| 50%æœªæº€ | è¦æ”¹å–„ | å¤§å¹…ãªæ”¹å–„ãŒå¿…è¦ |

---

### 14. åæ”¯äºˆæ¸¬

**POST** `/api/v1/events/financial-projection/`

ã‚¤ãƒ™ãƒ³ãƒˆã®äºˆç®—æƒ…å ±ã‹ã‚‰åæ”¯ã‚’äºˆæ¸¬ã—ã¾ã™ã€‚

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "capacity": 50,
  "ticket_price": 3000,
  "venue_cost": 50000,
  "marketing_cost": 20000,
  "other_costs": 10000,
  "is_free": false
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```json
{
  "total_revenue": 150000.0,
  "total_costs": 80000.0,
  "profit": 70000.0,
  "break_even_attendance": 27,
  "profit_margin": 46.67,
  "expected_attendance": 50,
  "warnings": ["âœ… è‰¯å¥½ãªåæ”¯è¨ˆç”»ã§ã™ï¼"],
  "fan_count": 500,
  "calculation_method": "ä¸­è¦æ¨¡ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£(ãƒ•ã‚¡ãƒ³500å): å‚åŠ ç‡10%",
  "past_events_count": 0
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|---|------|
| total_revenue | Float | äºˆæƒ³å£²ä¸Š |
| total_costs | Float | ç·ã‚³ã‚¹ãƒˆ |
| profit | Float | äºˆæƒ³åˆ©ç›Š |
| break_even_attendance | Integer | æç›Šåˆ†å²ç‚¹ï¼ˆäººæ•°ï¼‰ |
| profit_margin | Float | åˆ©ç›Šç‡ï¼ˆ%ï¼‰ |
| expected_attendance | Integer | äºˆæƒ³é›†å®¢æ•° |
| warnings | Array | è­¦å‘Šãƒ»æ¨å¥¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| fan_count | Integer | ä¸»å‚¬è€…ã®ãƒ•ã‚¡ãƒ³æ•° |
| calculation_method | String | é›†å®¢æ•°è¨ˆç®—ã®è©³ç´° |
| past_events_count | Integer | éå»ã®ã‚¤ãƒ™ãƒ³ãƒˆé–‹å‚¬æ•° |

#### é›†å®¢æ•°ã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

ã‚·ã‚¹ãƒ†ãƒ ã¯**ã‚¤ãƒ™ãƒ³ãƒˆä¸»å‚¬è€…ã®ãƒ•ã‚¡ãƒ³å‹•å‘**ã‹ã‚‰å®Ÿéš›ã®é›†å®¢æ•°ã‚’äºˆæ¸¬ã—ã¾ã™ã€‚

**è¨ˆç®—å¼:**
```
åŸºæœ¬é›†å®¢æ•° = ãƒ•ã‚¡ãƒ³æ•° Ã— ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ç‡
æœ€çµ‚é›†å®¢æ•° = min(åŸºæœ¬é›†å®¢æ•°, åå®¹äººæ•°)
```

**ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ç‡ã®æ±ºå®š:**

| ãƒ•ã‚¡ãƒ³æ•° | å‚åŠ ç‡ | ç†ç”± |
|---------|-------|------|
| 0å | 30% (åå®¹äººæ•°åŸºæº–) | ä¸€èˆ¬å…¬å‹Ÿã‚’æƒ³å®š |
| 1-99å | 15% | å°è¦æ¨¡ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¯å‚åŠ ç‡ãŒé«˜ã„ |
| 100-999å | 10% | ä¸­è¦æ¨¡ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ |
| 1000åä»¥ä¸Š | 5% | å¤§è¦æ¨¡ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¯å‚åŠ ç‡ãŒä½ä¸‹ |

**çµŒé¨“å€¤ãƒœãƒ¼ãƒŠã‚¹:**
- éå»ã®ã‚¤ãƒ™ãƒ³ãƒˆé–‹å‚¬å®Ÿç¸¾ã«å¿œã˜ã¦å‚åŠ ç‡ãŒå‘ä¸Š
- 1å›é–‹å‚¬ã”ã¨ã«+1% (æœ€å¤§+5%)

**è¨ˆç®—ä¾‹:**

**ä¾‹1: å°è¦æ¨¡ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼**
- ãƒ•ã‚¡ãƒ³æ•°: 50äºº
- éå»ã‚¤ãƒ™ãƒ³ãƒˆ: 0å›
- å‚åŠ ç‡: 15%
- äºˆæƒ³é›†å®¢æ•°: 50 Ã— 0.15 = **7-8äºº**

**ä¾‹2: ä¸­å …ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼**
- ãƒ•ã‚¡ãƒ³æ•°: 500äºº
- éå»ã‚¤ãƒ™ãƒ³ãƒˆ: 3å›
- å‚åŠ ç‡: 10% + 3% = 13%
- äºˆæƒ³é›†å®¢æ•°: 500 Ã— 0.13 = **65äºº**

**ä¾‹3: äººæ°—ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼**
- ãƒ•ã‚¡ãƒ³æ•°: 2000äºº
- éå»ã‚¤ãƒ™ãƒ³ãƒˆ: 5å›ä»¥ä¸Š
- å‚åŠ ç‡: 5% + 5% = 10%
- äºˆæƒ³é›†å®¢æ•°: 2000 Ã— 0.10 = **200äºº**
- åå®¹äººæ•°100äººã®å ´åˆ â†’ **100äºº** (ä¸Šé™é©ç”¨)

**åæ”¯è¨ˆç®—:**
```
äºˆæƒ³å£²ä¸Š = äºˆæƒ³å®¢æ•° Ã— ãƒã‚±ãƒƒãƒˆä¾¡æ ¼
åˆ©ç›Š = äºˆæƒ³å£²ä¸Š - ç·ã‚³ã‚¹ãƒˆ
æç›Šåˆ†å²ç‚¹ = ç·ã‚³ã‚¹ãƒˆ Ã· ãƒã‚±ãƒƒãƒˆä¾¡æ ¼
åˆ©ç›Šç‡ = (åˆ©ç›Š Ã· äºˆæƒ³å£²ä¸Š) Ã— 100
```

#### è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

| ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | æ„å‘³ |
|-----------|------|
| âš ï¸ èµ¤å­—ãŒäºˆæƒ³ã•ã‚Œã¾ã™ | åˆ©ç›ŠãŒãƒã‚¤ãƒŠã‚¹ |
| âš ï¸ æç›Šåˆ†å²ç‚¹ãŒåå®¹äººæ•°ã‚’è¶…ãˆã¦ã„ã¾ã™ | ä¾¡æ ¼è¨­å®šãŒä¸é©åˆ‡ |
| â„¹ï¸ ã‚³ã‚¹ãƒˆãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“ | ã‚ˆã‚Šæ­£ç¢ºãªäºˆæ¸¬ã®ãŸã‚å…¥åŠ›æ¨å¥¨ |
| âœ… è‰¯å¥½ãªåæ”¯è¨ˆç”»ã§ã™ | å•é¡Œãªã— |

---

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆ

### ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›
2. ä¼šå ´æ¨è–¦APIã‚’å‘¼ã³å‡ºã—ã€æ¨è–¦ä¼šå ´ã‚’è¡¨ç¤º
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¼šå ´ã‚’é¸æŠ
4. æˆåŠŸç‡äºˆæ¸¬APIã§æˆåŠŸç‡ã‚’ç¢ºèª
5. ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆAPIã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ

### ä½¿ç”¨ä¾‹ï¼ˆReact/Next.jsï¼‰

```typescript
// ä¼šå ´æ¨è–¦ã‚’å–å¾—
const fetchVenues = async () => {
  const response = await fetch('http://localhost:8001/api/v1/events/recommend-venues/', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      capacity: 50,
      location: 'æ±äº¬éƒ½æ¸‹è°·åŒº',
      purpose: 'networking'
    })
  });
  const data = await response.json();
  return data.venues;
};

// æˆåŠŸç‡ã‚’äºˆæ¸¬
const predictSuccess = async (eventData) => {
  const response = await fetch('http://localhost:8001/api/v1/events/predict-success/', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(eventData)
  });
  return await response.json();
};
```

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|---|------|
| id | Integer | ãƒã‚±ãƒƒãƒˆID |
| event | ForeignKey | ã‚¤ãƒ™ãƒ³ãƒˆ |
| ticket_type | String(100) | ãƒã‚±ãƒƒãƒˆã‚¿ã‚¤ãƒ— |
| price | Decimal | ä¾¡æ ¼ |
| quantity | Integer | ç·æ•° |
| sold_quantity | Integer | è²©å£²æ¸ˆã¿æ•° |
| is_active | Boolean | æœ‰åŠ¹ãƒ•ãƒ©ã‚° |
| created_at | DateTime | ä½œæˆæ—¥æ™‚ |
